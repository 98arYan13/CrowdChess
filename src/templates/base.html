<!DOCTYPE html>
<html>

<head>
	{% block head %}
	<meta charset="utf-8">
	<title>{% block title %}{% endblock %} - Crowd Chess (WoC)</title>
	
	<!-- TODO: change favicon -->
	<!-- favicon -->
	<link rel="shortcut icon" href="/static/favicon.ico">

	<!-- style.css -->
	<link rel="stylesheet" href="/static/css/style.css">

	<!-- JQuery -->
	<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
	
	<!-- Bootstrap -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" id="bootstrap-css">
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>

	<!-- Bluma -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.2/css/bulma.min.css" />

	<!--socket.io-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js" integrity="sha512-q/dWJ3kcmjBLU4Qc47E4A9kTB4m3wuTY7vkFJDTZKjTs8jhyGQnaUrxa0Ytd0ssMZhbNua9hE+E7Qv1j+DyZwA==" crossorigin="anonymous"></script>
	
	{% endblock %}
</head>

<body>
<section>
	<div class="container-fluid has-text-centered">
		<header id="top">
			<nav class="navbar navbar-expand">
				<ul class="navbar-nav">
					<a href="{{ url_for('main.index') }}" class="navbar-item">
						Home
					</a>
					{% if current_user.is_authenticated %}
					<a href="{{ url_for('main.profile') }}" class="navbar-item">
						Profile
					</a>
					{% endif %}
					{% if not current_user.is_authenticated %}
					<a href="{{ url_for('auth.login') }}" class="navbar-item">
						Login
					</a>
					<a href="{{ url_for('auth.signup') }}" class="navbar-item">
						Sign Up
					</a>
					{% endif %}
					{% if current_user.is_authenticated %}
					<a href="{{ url_for('auth.logout') }}" class="navbar-item">
						Logout
					</a>
					{% endif %}
				</ul>

				<!-- online status -->
				<div class="onlineStatus float-right">
					<div class='icon-container'>
						<img src="/static/pawn.svg" />
						<div class='status-circle'>
						</div>
					</div>
					<script>
						// Detect offline/online mode
						window.addEventListener('online',  updateOnlineStatus);
						window.addEventListener('offline', updateOnlineStatus);
						function updateOnlineStatus(event) {
							var condition = navigator.onLine ? "online" : "offline";
							document.body.className = condition;
							if (navigator.onLine) {
								console.log("you are connected");
								$(".status-circle").css("background-color", "green");
							} else {
								console.log("you are NOT connected");
							}
						}
					</script>
				</div>

			</nav>
		</header>
				{% block content %}{% endblock %}
	</div>
</section>

	<div id="footer" class="card-footer">
		{% block footer %}
				<!-- links -->
				<div class="input-group mt-2 mb-3">
					<a href="https://github.com/98arYan13/CrowdChess" class="mx-auto ml-2" style="font-size: small;">CrowdChess (WoC) source code</a>
					<a href="mailto:wocChess@gmail.com" class="text-dark nav-link mx-auto">
						<strong class="ml-2 mt-1">wocChess@gmail.com</strong>
					</a>
					<a href="mailto:ikoiran@gmail.com" class="text-dark nav-link mx-auto">
						<strong class="ml-2 mt-1">ikoiran@gmail.com</strong>
					</a>
					<!--<a class="btn btn-warning mx-auto">حمایت مالی</a>-->
				</div>
		{% endblock %}
	</div>

</body>
</html>